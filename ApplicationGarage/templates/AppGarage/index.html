{% extends "AppGarage/layout.html" %}
{% load static %}

{% block body %}

<style>
    #main-container {
        /* background-color: lawngreen; */
        background: rgb(195, 195, 195);
        background: linear-gradient(162deg, rgba(195, 195, 195, 0.8869922969187675) 0%, rgba(173, 173, 173, 0.7301295518207283) 35%, rgba(219, 249, 255, 1) 100%);
        display: grid;
        grid-template-columns: repeat(auto-fill, 300px);
        /* justify-content: start; */
        justify-content: space-evenly;
        /*  */
        /* grid-template-columns: 60px 60px 60px 60px 60px;
        grid-template-rows: 30px 30px; */
        /* grid-auto-flow: column; */
        /* grid-template-columns: repeat(4, 1fr); */
        /* grid-auto-rows: 100px; */
        /* grid-template-columns: repeat(4, 1fr); */
        /* grid-template-columns: minmax(500px, 20px) 1fr; */

    }

    .ad-container {

        background-color: rgb(255, 191, 114);
        height: 30vh;
        /* height: 100vh !important; */
        /* padding: 10px; */
        text-align: center;
        box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
        transition: 0.3s;
        max-width: 100%;
        height: 30vh;

        position: relative;
        /*  */
        grid-column-start: col-start 1;
        grid-column: 1 / -1;
        grid-column-start: 0;
        /* grid-column-end: span col4-start; */
        width: 3000px !important;
        height: fit-content;
        padding-top: 3vh;
        padding-bottom: 3vh;
        /* max-width: 96%; */
    }

    .item-Container:nth-child(6) {
        /* grid-column-start: col-start 1; */
        /* grid-column: 1 / -1; */
        /* grid-row: 1 / 3; */

    }

    .item-Container {

        /* justify-self: center; */
        background: sienna;
        border: 2px solid greenyellow;
        overflow: auto;
        /* border: 3px solid orange; */
        margin: 10px;
        /* width: fit-content; */
        box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2);
        transition: 0.3s;
        max-width: 400px;
        height: 30vh;
        opacity: 0.7;
        position: relative;
    }


    .item-Container:hover {
        opacity: 1;
        box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.2);
        z-index: 0;
    }

    .item-image {
        max-width: 200px;
        max-height: 100%;
        max-width: 100%;
        z-index: 0;
        max-height: 100%;
        max-width: 100%;
        position: absolute;
        /* float: right; */
        top: 0;
        top: 50%;
        -ms-transform: translateY(-50%);
        transform: translateY(-50%);
        /* display: inline-block; */
    }

    .item-footer {
        text-align: center;
        padding: 20px 16px;
        z-index: 2;
        background-color: rgba(66, 85, 137, 0.361);
        opacity: 0.1;
        position: inherit;
        position: relative;
        max-width: 100%;
        /* height: 65%; */
        /* padding-top: 15; */
        /* top: auto; */
        /* vertical-align: middle; */
        -ms-transform: translateY(-50%);
        transform: translateY(-50%);
        top: 50%;
        text-shadow: 0 0 5px black;
        color: white;

    }

    .item-footer:hover {
        background-color: rgba(39, 61, 124, 0.944);
        opacity: 1;
        z-index: 2;

    }

    .item-price {
        background-color: red;
        /* float: right; */
        right: 0;
        bottom: 0;
        position: absolute;
        padding: 5px;
        border-radius: 8px;
        z-index: 5;
    }

    .item-footer small {
        display: block;
    }
</style>


<!-- CREATING ELEMENTS WITH SCRIPTS -->
<script>

    function Create_ListContainer() {
        main_container = document.createElement('div');
        main_container.id = 'main-container';
        // main_container.innerHTML = InsideiT;
        document.body.appendChild(main_container)
    }


    function Create_ListItem(data) {
        datas = ['category', 'description', 'link', 'owner', 'price', 'time', 'title'];
        insideDIV = `
                            <div class="item-footer">
                    
                    <br>
                    The Description ${data.description}
                    <small>Seller: ${data.owner}</small>
                    <small>Contact: ${data.contact}</small>
                    <small>Time: ${data.time}</small>
                    <small>Category: ${data.category}</small>
                </div>
            <img class="item-image" src="${data.link}">
            <span class="item-price">Price: ${data.price}</span>
            <br>

            `
        itemContainer = document.createElement('div');
        itemContainer.setAttribute("class", "item-Container");
        itemContainer.innerHTML = insideDIV;
        main_container.appendChild(itemContainer);
    }
    function Remove_ListItem() {
        toRemove = document.querySelector(".item-Container");
        console.log('To Remove: ', toRemove)
        toRemove.remove()
    }
    function Create_Advertisments() {
        adContainer = document.createElement('div');
        adContainer.setAttribute("class", "ad-container");
        adContainer.innerHTML = `<div> <h1> The ADs are Created Here</h1> </div>`
        main_container.appendChild(adContainer)
    }
    // first = document.createElement('div');
    // first.setAttribute("class", "list-item")
    // first.innerHTML = 'firstit';
    // second = document.createElement('div');
    // second.setAttribute("class", "list-item")
    // second.innerHTML = 'seocnd';
    // main_container.appendChild(second)
    // main_container.appendChild(first)

</script>

<script>
    var ItemCount = 0
    Create_ListContainer()

    fetch('KuhainAngListing').then(response => response.json()).then(data => {
        // for (d in data) {
        //     ItemCount += 1;
        //     Create_ListItem(data[d].fields);
        //     console.log(data[d].fields, d)
        // }
        console.log(ItemCount, data.length)

        do {
            if ((ItemCount + 1) % 8 == 0) {
                Create_Advertisments()
            }
            Create_ListItem(data[ItemCount].fields);
            ItemCount += 1;
        } while (ItemCount <= (data.length - 1))
        console.log('Length: ', data.length)

    })

    // Remove_ListItem()
</script>
<!-- https://git.heroku.com/aqueous-peak-71560.git -->
{%endblock%}
<!-- https://git.heroku.com/aqueous-peak-71560.git -->